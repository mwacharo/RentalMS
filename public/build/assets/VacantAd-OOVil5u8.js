import{_ as U}from"./AppLayout-r0lD-Rpj.js";import{m,h as r,o as d,c as w,w as n,b as s,f as a,d as c,e as _}from"./app-J_pDJic5.js";import{_ as x}from"./_plugin-vue_export-helper-x3n3nnut.js";const q={components:{AppLayout:U},data(){return{tab:"postVacant",valid:!0,ad:{title:"",address:"",description:"",number_of_unitsRules:"",propertyType:null,images:[]},titleRules:[o=>!!o||"Title is required",o=>o&&o.length<=255||"Title must be less than 255 characters"],addressRules:[o=>!!o||"Address is required"],descriptionRules:[o=>!!o||"Description is required"],number_of_unitsRules:[o=>!!o||"number of units    is required"],rentRules:[o=>!!o||"rent   is required"],propertyTypes:["Apartment","House","Studio","Condo","Townhouse","Other"],properties:[],property_name:"",property_id:"",rent:"",vacants:[],headers:[{title:"ID",key:"id"},{title:"Property Name",key:"property.property_name"},{title:"Description",key:"description"},{title:"Rent",key:"rent"},{title:"Units",key:"number_of_units"},{title:"Actions",key:"actions",sortable:!1}]}},created(){this.fetchProperties(),this.viewPosts()},methods:{submitAd(){if(this.$refs.form.validate()){let o=new FormData;o.append("property_id",this.property_id),o.append("description",this.ad.description),o.append("number_of_units",this.ad.number_of_units),o.append("rent",this.ad.rent),this.ad.images&&this.ad.images.length>0&&this.ad.images.forEach((e,f)=>{o.append(`images[${f}]`,e)}),m.post("/vacantAd",o,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{console.log("Ad submitted successfully",e.data)}).catch(e=>{console.error("Failed to submit ad",e.response.data)})}else console.log("Form is invalid")},fetchProperties(){m.get("properties").then(e=>{console.log("properties response:",e.data),this.properties=e.data}).catch(e=>{console.error("failed to load properties:",e)})},viewPosts(){m.get("vacant").then(e=>{console.log("vacants response:",e.data),this.vacants=e.data}).catch(e=>{console.error("failed to load vacants:",e)})}}},C={key:0},L={key:0},T={key:0};function D(o,e,f,I,t,v){const b=r("v-toolbar-title"),y=r("v-toolbar"),u=r("v-tab"),V=r("v-tabs"),i=r("v-card"),h=r("v-select"),p=r("v-text-field"),g=r("v-file-input"),k=r("v-btn"),A=r("v-form"),P=r("v-data-table"),R=r("AppLayout");return d(),w(R,null,{default:n(()=>[s(y,{flat:""},{default:n(()=>[s(b,{class:"text-center",style:{width:"100%"}},{default:n(()=>[a("Vacant Ad")]),_:1})]),_:1}),s(i,null,{default:n(()=>[s(V,{modelValue:t.tab,"onUpdate:modelValue":e[0]||(e[0]=l=>t.tab=l),"background-color":"transparent"},{default:n(()=>[s(u,{value:"postVacant"},{default:n(()=>[a("Post Vacant")]),_:1}),s(u,{value:"viewPosts"},{default:n(()=>[a("View Posts")]),_:1}),s(u,{value:"bookings"},{default:n(()=>[a("Bookings")]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(i,{class:"my-card"},{default:n(()=>[t.tab==="postVacant"?(d(),c("div",C,[s(A,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":e[6]||(e[6]=l=>t.valid=l),"lazy-validation":""},{default:n(()=>[s(h,{modelValue:t.property_id,"onUpdate:modelValue":e[1]||(e[1]=l=>t.property_id=l),items:t.properties,"item-title":"property_name",label:"Property","item-value":"id"},null,8,["modelValue","items"]),s(p,{modelValue:t.ad.description,"onUpdate:modelValue":e[2]||(e[2]=l=>t.ad.description=l),label:"Description",required:"",rules:t.descriptionRules},null,8,["modelValue","rules"]),s(p,{modelValue:t.ad.number_of_units,"onUpdate:modelValue":e[3]||(e[3]=l=>t.ad.number_of_units=l),label:"Number of units",required:"",rules:t.number_of_unitsRules},null,8,["modelValue","rules"]),s(p,{modelValue:t.ad.rent,"onUpdate:modelValue":e[4]||(e[4]=l=>t.ad.rent=l),label:"rent",required:"",rules:t.rent},null,8,["modelValue","rules"]),s(g,{modelValue:t.ad.images,"onUpdate:modelValue":e[5]||(e[5]=l=>t.ad.images=l),label:"Property images",multiple:"",accept:"image/png, image/jpeg, image/bmp"},null,8,["modelValue"]),s(k,{disabled:!t.valid,onClick:v.submitAd},{default:n(()=>[a("Submit")]),_:1},8,["disabled","onClick"])]),_:1},8,["modelValue"])])):_("",!0)]),_:1}),s(i,{class:"my-card"},{default:n(()=>[t.tab==="viewPosts"?(d(),c("div",L,[s(P,{headers:t.headers,items:t.vacants,class:"elevation-1"},null,8,["headers","items"])])):_("",!0)]),_:1}),s(i,{class:"my-card"},{default:n(()=>[t.tab==="bookings"?(d(),c("div",T)):_("",!0)]),_:1})]),_:1})}const E=x(q,[["render",D],["__scopeId","data-v-ac3c42d8"]]);export{E as default};

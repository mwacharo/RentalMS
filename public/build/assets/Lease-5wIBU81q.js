import{_ as C}from"./AppLayout-RTM8d7vQ.js";import{h as i,i as a,o as U,c as S,w as o,b as e,f as d,k as I,p as q,q as D,a as w}from"./app-usi0tJLQ.js";import{_ as T}from"./_plugin-vue_export-helper-x3n3nnut.js";const P={components:{AppLayout:C},data(){return{dialog:!1,leaseAgreement:{tenant_id:"",property_id:"",unit_id:"",start_date:"",end_date:"",rent_amount:"",security_deposit:""},tenants:[],properties:[],units:[],headers:[{title:"Lease ID",align:"start",sortable:!1,key:"ID"},{title:"Property",key:"calories"},{title:"Unit",key:"fat"},{title:"Tenant",key:"fat"},{title:"Start Date",key:"carbs"},{title:"End Date",key:"protein"},{title:"Rent Amount",key:"protein"},{title:"Security Deposit",key:"protein"},{title:"Actions",key:"actions",sortable:!1}],leases:[],editedIndex:-1,editedItem:{},defaultItem:{}}},created(){this.initialize()},methods:{OpenCreateLease(){this.dialog=!0},initialize(){this.fetchTenants(),this.fetchProperties(),this.fetchUnits()},fetchTenants(){i.get("tenants").then(s=>{this.tenants=s.data})},fetchProperties(){i.get("properties").then(s=>{this.properties=s.data})},fetchUnits(){i.get("units").then(s=>{this.units=s.data})},createLeaseAgreement(){i.post("/lease-agreements",this.leaseAgreement).then(s=>{console.log(s.data),this.leases.push(s.data),this.dialog=!1,this.leaseAgreement={tenant_id:"",property_id:"",unit_id:"",start_date:"",end_date:"",rent_amount:"",security_deposit:""}})}}},B=s=>(q("data-v-13725476"),s=s(),D(),s),N=B(()=>w("span",{class:"headline"},"Create Lease Agreement",-1));function z(s,n,E,O,t,_){const r=a("v-text-field"),c=a("v-container"),p=a("VCard"),f=a("v-toolbar-title"),m=a("v-btn"),v=a("v-toolbar"),g=a("v-data-table"),y=a("v-card-title"),u=a("v-select"),V=a("v-form"),b=a("v-card-text"),A=a("v-spacer"),h=a("v-card-actions"),k=a("v-card"),x=a("v-dialog"),L=a("AppLayout");return U(),S(L,null,{default:o(()=>[e(p,{class:"my-card"},{default:o(()=>[e(c,null,{default:o(()=>[e(r,{label:"Search",variant:"outlined"})]),_:1})]),_:1}),e(p,{class:"my-card",outlined:""},{default:o(()=>[e(g,{headers:t.headers,items:t.leases,"sort-by":[{key:"calories",order:"asc"}]},{top:o(()=>[e(v,{flat:""},{default:o(()=>[e(f,null,{default:o(()=>[d("Lease")]),_:1}),e(m,{color:"primary",dark:"",class:"mb-2",onClick:_.OpenCreateLease,"prepend-icon":"mdi-plus",variant:"outlined"},{default:o(()=>[d(" Lease ")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["headers","items"]),e(x,{modelValue:t.dialog,"onUpdate:modelValue":n[8]||(n[8]=l=>t.dialog=l),"max-width":"800px"},{default:o(()=>[e(k,null,{default:o(()=>[e(y,null,{default:o(()=>[N]),_:1}),e(b,null,{default:o(()=>[e(V,{onSubmit:I(_.createLeaseAgreement,["prevent"])},{default:o(()=>[e(u,{label:"Tenant",items:t.tenants,"item-title":"tenant_name","item-value":"id",modelValue:t.leaseAgreement.tenant_id,"onUpdate:modelValue":n[0]||(n[0]=l=>t.leaseAgreement.tenant_id=l),required:""},null,8,["items","modelValue"]),e(u,{label:"Property",items:t.properties,"item-title":"property_name","item-value":"id",modelValue:t.leaseAgreement.property_id,"onUpdate:modelValue":n[1]||(n[1]=l=>t.leaseAgreement.property_id=l),required:""},null,8,["items","modelValue"]),e(u,{label:"Unit",items:t.units,"item-title":"unit_number","item-value":"id",modelValue:t.leaseAgreement.unit_id,"onUpdate:modelValue":n[2]||(n[2]=l=>t.leaseAgreement.unit_id=l),required:""},null,8,["items","modelValue"]),e(r,{label:"Start Date",modelValue:t.leaseAgreement.start_date,"onUpdate:modelValue":n[3]||(n[3]=l=>t.leaseAgreement.start_date=l),type:"date",required:""},null,8,["modelValue"]),e(r,{label:"End Date",modelValue:t.leaseAgreement.end_date,"onUpdate:modelValue":n[4]||(n[4]=l=>t.leaseAgreement.end_date=l),type:"date",required:""},null,8,["modelValue"]),e(r,{label:"Rent Amount",modelValue:t.leaseAgreement.rent_amount,"onUpdate:modelValue":n[5]||(n[5]=l=>t.leaseAgreement.rent_amount=l),required:""},null,8,["modelValue"]),e(r,{label:"Security Deposit",modelValue:t.leaseAgreement.security_deposit,"onUpdate:modelValue":n[6]||(n[6]=l=>t.leaseAgreement.security_deposit=l),required:""},null,8,["modelValue"]),e(m,{type:"submit",color:"primary"},{default:o(()=>[d("Create Lease")]),_:1})]),_:1},8,["onSubmit"])]),_:1}),e(h,null,{default:o(()=>[e(A),e(m,{color:"blue darken-1",text:"",onClick:n[7]||(n[7]=l=>t.dialog=!1)},{default:o(()=>[d("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const F=T(P,[["render",z],["__scopeId","data-v-13725476"]]);export{F as default};

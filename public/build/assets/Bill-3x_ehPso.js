import{h as p,i as e,o as d,c as U,w as s,b as t,f as r,d as f,g as w,F as I}from"./app-7hMa5QvB.js";import{_ as y}from"./_plugin-vue_export-helper-x3n3nnut.js";const F={data(){return{dialogm1:"",dialog:!1,id:null,bills:{},billAssignment:{}}},methods:{show(o){console.log(o),this.dialog=!0,this.id=o.id,this.assignBills()},assignBills(){const o="bills/"+this.id;p.get(o).then(n=>{console.log("bills response:",n.data),this.bills=n.data}).catch(n=>{console.error("failed to load bills:",n)})},close(){this.dialog=!1,this.bills=this.bills.map(o=>({...o,clicked:!1,amount:""}))},submitBillAssignment(){const o=this.bills.filter(l=>l.clicked).map(l=>({billId:l.id,amount:l.amount}));if(o.length===0){alert("Please select at least one bill to assign.");return}const n={tenantId:this.billAssignment.tenantId,bills:o},_="submitBill/"+this.id;p.post(_,n).then(l=>{console.log("Assignment response:",l.data)}).catch(l=>{console.error("Failed to assign bills:",l)}),this.dialog=!1,this.bills=this.bills.map(l=>({...l,clicked:!1,amount:""}))}}};function L(o,n,_,l,i,m){const g=e("v-card-title"),h=e("v-checkbox"),v=e("v-text-field"),b=e("v-container"),k=e("v-card-text"),x=e("v-spacer"),u=e("v-btn"),V=e("v-card-actions"),B=e("v-card"),A=e("v-dialog"),C=e("v-row");return d(),U(C,{justify:"center"},{default:s(()=>[t(A,{modelValue:i.dialog,"onUpdate:modelValue":n[0]||(n[0]=a=>i.dialog=a),"max-width":"500px"},{default:s(()=>[t(B,null,{default:s(()=>[t(g,null,{default:s(()=>[r("Assign Bills to Tenant")]),_:1}),t(k,null,{default:s(()=>[t(b,null,{default:s(()=>[(d(!0),f(I,null,w(i.bills,a=>(d(),f("div",{key:a.id},[t(h,{modelValue:a.clicked,"onUpdate:modelValue":c=>a.clicked=c,label:a.bill},null,8,["modelValue","onUpdate:modelValue","label"]),t(v,{modelValue:a.amount,"onUpdate:modelValue":c=>a.amount=c},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),_:1})]),_:1}),t(V,null,{default:s(()=>[t(x),t(u,{color:"blue-darken-1",variant:"text",onClick:m.close},{default:s(()=>[r(" Cancel ")]),_:1},8,["onClick"]),t(u,{color:"primary",onClick:m.submitBillAssignment},{default:s(()=>[r("Assign")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const R=y(F,[["render",L]]);export{R as default};

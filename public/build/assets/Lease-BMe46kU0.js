import{_ as U}from"./AppLayout-DLV5K9WW.js";import{h as o,c as D,o as h,w as a,b as t,f as i,a as q,k as S,j as d}from"./app-Cdoi5j0A.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={components:{AppLayout:U},data(){return{dialog:!1,leaseAgreement:{tenant_id:"",property_id:"",unit_id:"",start_date:"",end_date:"",rent_amount:"",security_deposit:""},tenants:[],properties:[],units:[],headers:[{title:"Lease ID",align:"start",sortable:!1,key:"ID"},{title:"Property",key:"calories"},{title:"Unit",key:"fat"},{title:"Tenant",key:"fat"},{title:"Start Date",key:"carbs"},{title:"End Date",key:"protein"},{title:"Rent Amount",key:"protein"},{title:"Security Deposit",key:"protein"},{title:"Actions",key:"actions",sortable:!1}],leases:[],editedIndex:-1,editedItem:{},defaultItem:{}}},created(){this.initialize()},methods:{OpenCreateLease(){this.dialog=!0},initialize(){this.fetchTenants(),this.fetchProperties(),this.fetchUnits()},fetchTenants(){d.get("tenants").then(s=>{this.tenants=s.data})},fetchProperties(){d.get("properties").then(s=>{this.properties=s.data})},fetchUnits(){d.get("units").then(s=>{this.units=s.data})},createLeaseAgreement(){d.post("/lease-agreements",this.leaseAgreement).then(s=>{console.log(s.data),this.leases.push(s.data),this.dialog=!1,this.leaseAgreement={tenant_id:"",property_id:"",unit_id:"",start_date:"",end_date:"",rent_amount:"",security_deposit:""}})}}};function w(s,e,P,B,n,p){const r=o("v-text-field"),c=o("v-container"),_=o("VCard"),f=o("v-toolbar-title"),m=o("v-btn"),v=o("v-toolbar"),g=o("v-data-table"),y=o("v-card-title"),u=o("v-select"),V=o("v-form"),b=o("v-card-text"),A=o("v-spacer"),k=o("v-card-actions"),x=o("v-card"),L=o("v-dialog"),C=o("AppLayout");return h(),D(C,null,{default:a(()=>[t(_,{class:"my-card"},{default:a(()=>[t(c,null,{default:a(()=>[t(r,{label:"Search",variant:"outlined"})]),_:1})]),_:1}),t(_,{class:"my-card",outlined:""},{default:a(()=>[t(g,{headers:n.headers,items:n.leases,"sort-by":[{key:"calories",order:"asc"}]},{top:a(()=>[t(v,{flat:""},{default:a(()=>[t(f,null,{default:a(()=>e[9]||(e[9]=[i("Lease")])),_:1}),t(m,{color:"primary",dark:"",class:"mb-2",onClick:p.OpenCreateLease,"prepend-icon":"mdi-plus",variant:"outlined"},{default:a(()=>e[10]||(e[10]=[i(" Lease ")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["headers","items"]),t(L,{modelValue:n.dialog,"onUpdate:modelValue":e[8]||(e[8]=l=>n.dialog=l),"max-width":"800px"},{default:a(()=>[t(x,null,{default:a(()=>[t(y,null,{default:a(()=>e[11]||(e[11]=[q("span",{class:"headline"},"Create Lease Agreement",-1)])),_:1}),t(b,null,{default:a(()=>[t(V,{onSubmit:S(p.createLeaseAgreement,["prevent"])},{default:a(()=>[t(u,{label:"Tenant",items:n.tenants,"item-title":"tenant_name","item-value":"id",modelValue:n.leaseAgreement.tenant_id,"onUpdate:modelValue":e[0]||(e[0]=l=>n.leaseAgreement.tenant_id=l),required:""},null,8,["items","modelValue"]),t(u,{label:"Property",items:n.properties,"item-title":"property_name","item-value":"id",modelValue:n.leaseAgreement.property_id,"onUpdate:modelValue":e[1]||(e[1]=l=>n.leaseAgreement.property_id=l),required:""},null,8,["items","modelValue"]),t(u,{label:"Unit",items:n.units,"item-title":"unit_number","item-value":"id",modelValue:n.leaseAgreement.unit_id,"onUpdate:modelValue":e[2]||(e[2]=l=>n.leaseAgreement.unit_id=l),required:""},null,8,["items","modelValue"]),t(r,{label:"Start Date",modelValue:n.leaseAgreement.start_date,"onUpdate:modelValue":e[3]||(e[3]=l=>n.leaseAgreement.start_date=l),type:"date",required:""},null,8,["modelValue"]),t(r,{label:"End Date",modelValue:n.leaseAgreement.end_date,"onUpdate:modelValue":e[4]||(e[4]=l=>n.leaseAgreement.end_date=l),type:"date",required:""},null,8,["modelValue"]),t(r,{label:"Rent Amount",modelValue:n.leaseAgreement.rent_amount,"onUpdate:modelValue":e[5]||(e[5]=l=>n.leaseAgreement.rent_amount=l),required:""},null,8,["modelValue"]),t(r,{label:"Security Deposit",modelValue:n.leaseAgreement.security_deposit,"onUpdate:modelValue":e[6]||(e[6]=l=>n.leaseAgreement.security_deposit=l),required:""},null,8,["modelValue"]),t(m,{type:"submit",color:"primary"},{default:a(()=>e[12]||(e[12]=[i("Create Lease")])),_:1})]),_:1},8,["onSubmit"])]),_:1}),t(k,null,{default:a(()=>[t(A),t(m,{color:"blue darken-1",text:"",onClick:e[7]||(e[7]=l=>n.dialog=!1)},{default:a(()=>e[13]||(e[13]=[i("Cancel")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const O=I(T,[["render",w],["__scopeId","data-v-13725476"]]);export{O as default};

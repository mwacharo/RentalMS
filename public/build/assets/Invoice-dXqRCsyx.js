import{_ as g}from"./AppLayout-MwnqGhac.js";import{h as i,i as t,o as b,c as k,w as n,b as a,j as I,f as V,m as A}from"./app-C4aOM3xK.js";import{_ as P}from"./_plugin-vue_export-helper-x3n3nnut.js";const L={components:{AppLayout:g},data:()=>({dialog:!1,loading:!1,dialogDelete:!1,headers:[{title:"Invoice ID",align:"start",sortable:!1,key:"id"},{title:"Property Name",key:"tenant.property.property_name"},{title:"Unit Number",key:"unit.unit_number"},{title:"Tenant Name",key:"tenant.tenant_name"},{title:"Rent",key:"total_amount"},{title:"Due Date",key:"due_date"},{title:"Status",key:"status"},{title:"Issue Date ",key:"issued_at"}],invoices:[],searchQuery:"",unit_number:" ",tenant_name:" ",due_date:"",issued_at:"",property_name:""}),created(){this.initialize()},methods:{initialize(){i.get("/invoices").then(e=>{console.log("API Invoice Response:",e.data),this.invoices=e.data}).catch(e=>{console.error("API Error:",e)})},performSearch(){this.loading=!0;const o="/invoice/search?query="+this.searchQuery;i.get(o).then(e=>{console.log("Search response:",e.data),this.invoices=e.data,this.loading=!1}).catch(e=>{console.error("Search error:",e),this.loading=!1})}}};function S(o,e,U,D,N,l){const c=t("v-text-field"),d=t("v-container"),r=t("VCard"),_=t("v-toolbar-title"),m=t("v-divider"),u=t("v-spacer"),p=t("v-btn"),v=t("v-dialog"),f=t("v-toolbar"),y=t("v-data-table"),h=t("AppLayout");return b(),k(h,null,{default:n(()=>[a(r,{class:"my-card"},{default:n(()=>[a(d,null,{default:n(()=>[a(c,{modelValue:o.searchQuery,"onUpdate:modelValue":e[0]||(e[0]=s=>o.searchQuery=s),label:"Search",onKeyup:I(l.performSearch,["enter"]),variant:"outlined"},null,8,["modelValue","onKeyup"])]),_:1})]),_:1}),a(r,{class:"my-card",outlined:""},{default:n(()=>[a(y,{headers:o.headers,loading:o.loading,items:o.invoices,"sort-by":[{key:"invoice_id",order:"asc"}]},{top:n(()=>[a(f,{flat:""},{default:n(()=>[a(_,null,{default:n(()=>[V("Invoice")]),_:1}),a(m,{class:"mx-4",inset:"",vertical:""}),a(u),a(v,{modelValue:o.dialog,"onUpdate:modelValue":e[1]||(e[1]=s=>o.dialog=s),"max-width":"500px"},{activator:n(({props:s})=>[a(p,A({color:"primary",dark:"",class:"mb-2"},s),null,16)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["headers","loading","items"])]),_:1})]),_:1})}const C=P(L,[["render",S],["__scopeId","data-v-793c8f2c"]]);export{C as default};

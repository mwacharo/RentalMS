import{_ as x}from"./AppLayout-jx6QWEP9.js";import{h as m,i as o,o as U,c as D,w as n,b as e,f as r,k as S,p as I,l as q,a as w}from"./app-37DS2Gtf.js";import{_ as T}from"./_plugin-vue_export-helper-x3n3nnut.js";const P={components:{AppLayout:x},data(){return{dialog:!1,leaseAgreement:{tenant_id:"",property_id:"",unit_id:"",start_date:"",end_date:"",rent_amount:"",security_deposit:""},tenants:[],properties:[],units:[],headers:[{title:"Lease ID",align:"start",sortable:!1,key:"ID"},{title:"Property",key:"calories"},{title:"Unit",key:"fat"},{title:"Tenant",key:"fat"},{title:"Start Date",key:"carbs"},{title:"End Date",key:"protein"},{title:"Rent Amount",key:"protein"},{title:"Security Deposit",key:"protein"},{title:"Actions",key:"actions",sortable:!1}],leases:[],editedIndex:-1,editedItem:{},defaultItem:{}}},created(){this.initialize()},methods:{OpenCreateLease(){this.dialog=!0},initialize(){this.fetchTenants(),this.fetchProperties(),this.fetchUnits()},fetchTenants(){m.get("tenants").then(s=>{this.tenants=s.data})},fetchProperties(){m.get("properties").then(s=>{this.properties=s.data})},fetchUnits(){m.get("units").then(s=>{this.units=s.data})},createLeaseAgreement(){m.post("/lease-agreements",this.leaseAgreement).then(s=>{console.log(s.data),this.leases.push(s.data),this.dialog=!1,this.leaseAgreement={tenant_id:"",property_id:"",unit_id:"",start_date:"",end_date:"",rent_amount:"",security_deposit:""}})}}},B=s=>(I("data-v-783a170c"),s=s(),q(),s),N=B(()=>w("span",{class:"headline"},"Create Lease Agreement",-1));function z(s,l,E,O,t,p){const i=o("v-text-field"),c=o("container"),_=o("VCard"),f=o("v-toolbar-title"),d=o("v-btn"),v=o("v-toolbar"),y=o("v-data-table"),g=o("v-card-title"),u=o("v-select"),V=o("v-form"),b=o("v-card-text"),A=o("v-spacer"),k=o("v-card-actions"),h=o("v-card"),L=o("v-dialog"),C=o("AppLayout");return U(),D(C,null,{default:n(()=>[e(_,{class:"my-card"},{default:n(()=>[e(c,null,{default:n(()=>[e(i,{label:"Search",variant:"outlined"})]),_:1})]),_:1}),e(_,{class:"my-card",outlined:""},{default:n(()=>[e(y,{headers:t.headers,items:t.leases,"sort-by":[{key:"calories",order:"asc"}]},{top:n(()=>[e(v,{flat:""},{default:n(()=>[e(f,null,{default:n(()=>[r("Lease")]),_:1}),e(d,{color:"primary",dark:"",class:"mb-2",onClick:s.LeaseDetails,"prepend-icon":"mdi-plus",variant:"outlined"},{default:n(()=>[r(" Lease Details ")]),_:1},8,["onClick"]),e(d,{color:"primary",dark:"",class:"mb-2",onClick:p.OpenCreateLease,"prepend-icon":"mdi-plus",variant:"outlined"},{default:n(()=>[r(" Lease ")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["headers","items"]),e(L,{modelValue:t.dialog,"onUpdate:modelValue":l[8]||(l[8]=a=>t.dialog=a),"max-width":"800px"},{default:n(()=>[e(h,null,{default:n(()=>[e(g,null,{default:n(()=>[N]),_:1}),e(b,null,{default:n(()=>[e(V,{onSubmit:S(p.createLeaseAgreement,["prevent"])},{default:n(()=>[e(u,{label:"Tenant",items:t.tenants,"item-title":"tenant_name","item-value":"id",modelValue:t.leaseAgreement.tenant_id,"onUpdate:modelValue":l[0]||(l[0]=a=>t.leaseAgreement.tenant_id=a),required:""},null,8,["items","modelValue"]),e(u,{label:"Property",items:t.properties,"item-title":"property_name","item-value":"id",modelValue:t.leaseAgreement.property_id,"onUpdate:modelValue":l[1]||(l[1]=a=>t.leaseAgreement.property_id=a),required:""},null,8,["items","modelValue"]),e(u,{label:"Unit",items:t.units,"item-title":"unit_number","item-value":"id",modelValue:t.leaseAgreement.unit_id,"onUpdate:modelValue":l[2]||(l[2]=a=>t.leaseAgreement.unit_id=a),required:""},null,8,["items","modelValue"]),e(i,{label:"Start Date",modelValue:t.leaseAgreement.start_date,"onUpdate:modelValue":l[3]||(l[3]=a=>t.leaseAgreement.start_date=a),type:"date",required:""},null,8,["modelValue"]),e(i,{label:"End Date",modelValue:t.leaseAgreement.end_date,"onUpdate:modelValue":l[4]||(l[4]=a=>t.leaseAgreement.end_date=a),type:"date",required:""},null,8,["modelValue"]),e(i,{label:"Rent Amount",modelValue:t.leaseAgreement.rent_amount,"onUpdate:modelValue":l[5]||(l[5]=a=>t.leaseAgreement.rent_amount=a),required:""},null,8,["modelValue"]),e(i,{label:"Security Deposit",modelValue:t.leaseAgreement.security_deposit,"onUpdate:modelValue":l[6]||(l[6]=a=>t.leaseAgreement.security_deposit=a),required:""},null,8,["modelValue"]),e(d,{type:"submit",color:"primary"},{default:n(()=>[r("Create Lease")]),_:1})]),_:1},8,["onSubmit"])]),_:1}),e(k,null,{default:n(()=>[e(A),e(d,{color:"blue darken-1",text:"",onClick:l[7]||(l[7]=a=>t.dialog=!1)},{default:n(()=>[r("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const F=T(P,[["render",z],["__scopeId","data-v-783a170c"]]);export{F as default};
